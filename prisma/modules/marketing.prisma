// prisma/modules/marketing.prisma
// Coupons, campaigns, ads, promotions

model Coupon {
  id         String   @id @default(cuid())
  code       String   @unique
  description String?
  discountType CouponType
  discountValue Float
  validFrom  DateTime
  validTo    DateTime?
  usageLimit Int?
  createdAt  DateTime @default(now())
  isActive   Boolean  @default(true)

  @@map("coupons")
}

enum CouponType {
  PERCENT
  FIXED
}

model Campaign {
  id        String   @id @default(cuid())
  title     String
  channels  String[] // e.g., ["email","sms"]
  payload   Json
  startedAt DateTime?
  endedAt   DateTime?
  createdAt DateTime @default(now())

  @@map("campaigns")
}

model Advertisement {
  id          String   @id @default(cuid())
  title       String
  vendorId    String?
  position    String   // e.g., header, sidebar
  startAt     DateTime
  endAt       DateTime?
  isActive    Boolean  @default(true)
  meta        Json?
  createdAt   DateTime @default(now())

  vendor Vendor? @relation(fields: [vendorId], references: [id], onDelete: Cascade)
  @@map("advertisements")
}
